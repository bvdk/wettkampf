create table "AgeClass"
(
    "createdAt" timestamp(3) default CURRENT_TIMESTAMP not null,
    id          text                                   not null
        constraint "AgeClass_pkey"
            primary key,
    name        text                                   not null,
    "sortId"    integer                                not null,
    "updatedAt" timestamp(3)                           not null
);

alter table "AgeClass"
    owner to bvdk;

INSERT INTO public."AgeClass" ("createdAt", id, name, "sortId", "updatedAt") VALUES ('2020-05-02 08:46:23.885', 'junioren', 'Junioren', 970, '2020-05-02 08:46:23.885');
INSERT INTO public."AgeClass" ("createdAt", id, name, "sortId", "updatedAt") VALUES ('2020-05-02 08:46:23.893', 'ak2', 'AK 2', 2000, '2020-05-02 08:46:23.894');
INSERT INTO public."AgeClass" ("createdAt", id, name, "sortId", "updatedAt") VALUES ('2020-05-02 08:46:23.893', 'aktive', 'Aktive', 1000, '2020-05-02 08:46:23.894');
INSERT INTO public."AgeClass" ("createdAt", id, name, "sortId", "updatedAt") VALUES ('2020-05-02 08:46:23.902', 'ak1', 'AK 1', 1001, '2020-05-02 08:46:23.903');
INSERT INTO public."AgeClass" ("createdAt", id, name, "sortId", "updatedAt") VALUES ('2020-05-02 08:46:23.902', 'ak3', 'AK 3', 3000, '2020-05-02 08:46:23.903');
INSERT INTO public."AgeClass" ("createdAt", id, name, "sortId", "updatedAt") VALUES ('2020-05-02 08:46:23.902', 'ak', 'au√üer Konkurrenz', 9000, '2020-05-02 08:46:23.903');

create table "Athlete"
(
    "BD1"                  numeric(65, 30)                        not null,
    "BD2"                  numeric(65, 30)                        not null,
    "BD3"                  numeric(65, 30)                        not null,
    "KB1"                  numeric(65, 30)                        not null,
    "KB2"                  numeric(65, 30)                        not null,
    "KB3"                  numeric(65, 30)                        not null,
    "KH1"                  numeric(65, 30)                        not null,
    "KH2"                  numeric(65, 30)                        not null,
    "KH3"                  numeric(65, 30)                        not null,
    "ageClassId"           text                                   not null
        constraint "Athlete_ageClassId_fkey"
            references "AgeClass"
            on update cascade on delete cascade,
    "athleteNumber"        integer                                not null,
    birthday               timestamp(3)                           not null,
    "bodyWeight"           numeric(65, 30)                        not null,
    club                   text                                   not null,
    "createdAt"            timestamp(3) default CURRENT_TIMESTAMP not null,
    dots                   numeric(65, 30)                        not null,
    "eventId"              text                                   not null
        constraint "Athlete_eventId_fkey"
            references "Event"
            on update cascade on delete cascade,
    "firstName"            text                                   not null,
    gender                 "Gender"                               not null,
    id                     text                                   not null
        constraint "Athlete_pkey"
            primary key,
    "importId"             integer                                not null,
    "lastName"             text                                   not null,
    "lateRegistration"     boolean                                not null,
    location               text                                   not null,
    los                    integer                                not null,
    "nextAttemptsSortKeys" text                                   not null,
    norm                   boolean                                not null,
    place                  integer                                not null,
    points                 numeric(65, 30)                        not null,
    price                  numeric(65, 30)                        not null,
    raw                    boolean                                not null,
    "resultClassId"        text                                   not null,
    total                  numeric(65, 30)                        not null,
    "updatedAt"            timestamp(3)                           not null,
    "weightClassId"        text                                   not null
        constraint "Athlete_weightClassId_fkey"
            references "WeightClass"
            on update cascade on delete cascade,
    wilks                  numeric(65, 30)                        not null
);

alter table "Athlete"
    owner to bvdk;



create table "AthleteGroup"
(
    "createdAt" timestamp(3) default CURRENT_TIMESTAMP not null,
    "eventId"   text                                   not null
        constraint "AthleteGroup_eventId_fkey"
            references "Event"
            on update cascade on delete cascade,
    id          text                                   not null
        constraint "AthleteGroup_pkey"
            primary key,
    name        text                                   not null,
    "slotId"    text                                   not null
        constraint "AthleteGroup_slotId_fkey"
            references "Slot"
            on update cascade on delete cascade,
    "updatedAt" timestamp(3)                           not null
);

alter table "AthleteGroup"
    owner to bvdk;

create table "Attempt"
(
    "athleteId" text                                   not null
        constraint "Attempt_athleteId_fkey"
            references "Athlete"
            on update cascade on delete cascade,
    "createdAt" timestamp(3) default CURRENT_TIMESTAMP not null,
    date        timestamp(3)                           not null,
    discipline  "Discipline"                           not null,
    done        boolean                                not null,
    id          text                                   not null
        constraint "Attempt_pkey"
            primary key,
    index       integer                                not null,
    raw         boolean                                not null,
    resign      boolean                                not null,
    "updatedAt" timestamp(3)                           not null,
    valid       boolean                                not null,
    weight      integer                                not null
);

alter table "Attempt"
    owner to bvdk;

create table "Event"
(
    "contestType" "ContestType"                          not null,
    "createdAt"   timestamp(3) default CURRENT_TIMESTAMP not null,
    discipline    "Discipline"                           not null,
    id            text                                   not null
        constraint "Event_pkey"
            primary key,
    name          text                                   not null,
    "updatedAt"   timestamp(3)                           not null
);

alter table "Event"
    owner to bvdk;

create table "_Migration"
(
    revision           serial       not null
        constraint "_Migration_pkey"
            primary key,
    name               text         not null,
    datamodel          text         not null,
    status             text         not null,
    applied            integer      not null,
    rolled_back        integer      not null,
    datamodel_steps    text         not null,
    database_migration text         not null,
    errors             text         not null,
    started_at         timestamp(3) not null,
    finished_at        timestamp(3)
);

alter table "_Migration"
    owner to bvdk;

INSERT INTO public."_Migration" (revision, name, datamodel, status, applied, rolled_back, datamodel_steps, database_migration, errors, started_at, finished_at) VALUES (1, '20200502101252-migration', 'enum Discipline {
  POWERLIFTING
  SQUAT
  BENCHPRESS
  DEADLIFT
}

enum ContestType {
  SINGLE
  TEAM
}

enum Gender {
  MALE
  FEMALE
}

enum Role {
  ADMIN
  USER
  GUEST
}

enum Position {
  SEITENKAMPFRICHTER
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model AgeClass {
  id        String   @id @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  name      String
  sortId    Int
}

model Athlete {
  id                   String      @id @default(uuid())
  createdAt            DateTime    @default(now())
  updatedAt            DateTime    @updatedAt
  raw                  Boolean
  athleteNumber        Int
  firstName            String
  lastName             String
  gender               Gender
  club                 String
  birthday             DateTime
  total                Float
  norm                 Boolean
  lateRegistration     Boolean
  price                Float
  bodyWeight           Float
  wilks                Float
  dots                 Float
  los                  Int
  KB1                  Float
  KB2                  Float
  KB3                  Float
  BD1                  Float
  BD2                  Float
  BD3                  Float
  KH1                  Float
  KH2                  Float
  KH3                  Float
  points               Float
  place                Int
  location             String
  nextAttemptsSortKeys String
  importId             Int
  event                Event       @relation(fields: [eventId], references: [id])
  eventId              String
  weightClass          WeightClass @relation(fields: [weightClassId], references: [id])
  weightClassId        String
  ageClass             AgeClass    @relation(fields: [ageClassId], references: [id])
  ageClassId           String
  resultClassId        String
}

model AthleteGroup {
  id        String   @id @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  name      String
  event     Event    @relation(fields: [eventId], references: [id])
  eventId   String
  slot      Slot     @relation(fields: [slotId], references: [id])
  slotId    String
}

model Attempt {
  id         String     @id @default(uuid())
  createdAt  DateTime   @default(now())
  updatedAt  DateTime   @updatedAt
  discipline Discipline
  date       DateTime
  index      Int
  weight     Int
  raw        Boolean
  valid      Boolean
  done       Boolean
  resign     Boolean
  athlete    Athlete    @relation(fields: [athleteId], references: [id])
  athleteId  String
}

model Event {
  id          String      @id @default(uuid())
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt
  name        String
  discipline  Discipline
  contestType ContestType
}

model Official {
  id            String   @id @default(uuid())
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  officalNumber Int
  lastName      String
  firstName     String
  club          String
  license       String
  position      String
  location      String
  importId      Int
  event         Event    @relation(fields: [eventId], references: [id])
  eventId       String
}

model OfficialSlot {
  id         String   @id @default(uuid())
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
  position   Position
  official   Official @relation(fields: [officialId], references: [id])
  officialId String
  slot       Slot     @relation(fields: [slotId], references: [id])
  slotId     String
}

model Slot {
  id        String   @id @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  name      String
  event     Event    @relation(fields: [eventId], references: [id])
  eventId   String
}

model User {
  id           String   @id @default(uuid())
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  role         Role     @default(GUEST)
  username     String
  passwordHash String
  salt         String
}

model WeightClass {
  id        String   @id @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  name      String
  gender    Gender
  min       Float
  max       Int
}', 'MigrationSuccess', 24, 0, '[{"tag":"CreateEnum","enum":"Discipline","values":["POWERLIFTING","SQUAT","BENCHPRESS","DEADLIFT"]},{"tag":"CreateEnum","enum":"ContestType","values":["SINGLE","TEAM"]},{"tag":"CreateEnum","enum":"Gender","values":["MALE","FEMALE"]},{"tag":"CreateEnum","enum":"Role","values":["ADMIN","USER","GUEST"]},{"tag":"CreateEnum","enum":"Position","values":["SEITENKAMPFRICHTER"]},{"tag":"CreateSource","source":"db"},{"tag":"CreateArgument","location":{"tag":"Source","source":"db"},"argument":"provider","value":"\"postgresql\""},{"tag":"CreateArgument","location":{"tag":"Source","source":"db"},"argument":"url","value":"env(\"DATABASE_URL\")"},{"tag":"CreateModel","model":"AgeClass"},{"tag":"CreateField","model":"AgeClass","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"AgeClass","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"AgeClass","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"AgeClass","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateField","model":"AgeClass","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"AgeClass","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"AgeClass","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"AgeClass","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"AgeClass","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"AgeClass","field":"name","type":"String","arity":"Required"},{"tag":"CreateField","model":"AgeClass","field":"sortId","type":"Int","arity":"Required"},{"tag":"CreateModel","model":"Athlete"},{"tag":"CreateField","model":"Athlete","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Athlete","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Athlete","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Athlete","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateField","model":"Athlete","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Athlete","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Athlete","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"Athlete","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Athlete","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"Athlete","field":"raw","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"athleteNumber","type":"Int","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"firstName","type":"String","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"lastName","type":"String","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"gender","type":"Gender","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"club","type":"String","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"birthday","type":"DateTime","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"total","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"norm","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"lateRegistration","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"price","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"bodyWeight","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"wilks","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"dots","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"los","type":"Int","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"KB1","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"KB2","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"KB3","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"BD1","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"BD2","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"BD3","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"KH1","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"KH2","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"KH3","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"points","type":"Float","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"place","type":"Int","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"location","type":"String","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"nextAttemptsSortKeys","type":"String","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"importId","type":"Int","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"event","type":"Event","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Athlete","field":"event"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Athlete","field":"event"},"directive":"relation"},"argument":"fields","value":"[eventId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Athlete","field":"event"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Athlete","field":"eventId","type":"String","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"weightClass","type":"WeightClass","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Athlete","field":"weightClass"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Athlete","field":"weightClass"},"directive":"relation"},"argument":"fields","value":"[weightClassId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Athlete","field":"weightClass"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Athlete","field":"weightClassId","type":"String","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"ageClass","type":"AgeClass","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Athlete","field":"ageClass"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Athlete","field":"ageClass"},"directive":"relation"},"argument":"fields","value":"[ageClassId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Athlete","field":"ageClass"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Athlete","field":"ageClassId","type":"String","arity":"Required"},{"tag":"CreateField","model":"Athlete","field":"resultClassId","type":"String","arity":"Required"},{"tag":"CreateModel","model":"AthleteGroup"},{"tag":"CreateField","model":"AthleteGroup","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"AthleteGroup","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"AthleteGroup","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"AthleteGroup","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateField","model":"AthleteGroup","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"AthleteGroup","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"AthleteGroup","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"AthleteGroup","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"AthleteGroup","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"AthleteGroup","field":"name","type":"String","arity":"Required"},{"tag":"CreateField","model":"AthleteGroup","field":"event","type":"Event","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"AthleteGroup","field":"event"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"AthleteGroup","field":"event"},"directive":"relation"},"argument":"fields","value":"[eventId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"AthleteGroup","field":"event"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"AthleteGroup","field":"eventId","type":"String","arity":"Required"},{"tag":"CreateField","model":"AthleteGroup","field":"slot","type":"Slot","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"AthleteGroup","field":"slot"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"AthleteGroup","field":"slot"},"directive":"relation"},"argument":"fields","value":"[slotId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"AthleteGroup","field":"slot"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"AthleteGroup","field":"slotId","type":"String","arity":"Required"},{"tag":"CreateModel","model":"Attempt"},{"tag":"CreateField","model":"Attempt","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Attempt","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Attempt","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Attempt","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateField","model":"Attempt","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Attempt","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Attempt","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"Attempt","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Attempt","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"Attempt","field":"discipline","type":"Discipline","arity":"Required"},{"tag":"CreateField","model":"Attempt","field":"date","type":"DateTime","arity":"Required"},{"tag":"CreateField","model":"Attempt","field":"index","type":"Int","arity":"Required"},{"tag":"CreateField","model":"Attempt","field":"weight","type":"Int","arity":"Required"},{"tag":"CreateField","model":"Attempt","field":"raw","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"Attempt","field":"valid","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"Attempt","field":"done","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"Attempt","field":"resign","type":"Boolean","arity":"Required"},{"tag":"CreateField","model":"Attempt","field":"athlete","type":"Athlete","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Attempt","field":"athlete"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Attempt","field":"athlete"},"directive":"relation"},"argument":"fields","value":"[athleteId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Attempt","field":"athlete"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Attempt","field":"athleteId","type":"String","arity":"Required"},{"tag":"CreateModel","model":"Event"},{"tag":"CreateField","model":"Event","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Event","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Event","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Event","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateField","model":"Event","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Event","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Event","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"Event","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Event","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"Event","field":"name","type":"String","arity":"Required"},{"tag":"CreateField","model":"Event","field":"discipline","type":"Discipline","arity":"Required"},{"tag":"CreateField","model":"Event","field":"contestType","type":"ContestType","arity":"Required"},{"tag":"CreateModel","model":"Official"},{"tag":"CreateField","model":"Official","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Official","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Official","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Official","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateField","model":"Official","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Official","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Official","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"Official","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Official","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"Official","field":"officalNumber","type":"Int","arity":"Required"},{"tag":"CreateField","model":"Official","field":"lastName","type":"String","arity":"Required"},{"tag":"CreateField","model":"Official","field":"firstName","type":"String","arity":"Required"},{"tag":"CreateField","model":"Official","field":"club","type":"String","arity":"Required"},{"tag":"CreateField","model":"Official","field":"license","type":"String","arity":"Required"},{"tag":"CreateField","model":"Official","field":"position","type":"String","arity":"Required"},{"tag":"CreateField","model":"Official","field":"location","type":"String","arity":"Required"},{"tag":"CreateField","model":"Official","field":"importId","type":"Int","arity":"Required"},{"tag":"CreateField","model":"Official","field":"event","type":"Event","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Official","field":"event"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Official","field":"event"},"directive":"relation"},"argument":"fields","value":"[eventId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Official","field":"event"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Official","field":"eventId","type":"String","arity":"Required"},{"tag":"CreateModel","model":"OfficialSlot"},{"tag":"CreateField","model":"OfficialSlot","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"OfficialSlot","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"OfficialSlot","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"OfficialSlot","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateField","model":"OfficialSlot","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"OfficialSlot","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"OfficialSlot","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"OfficialSlot","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"OfficialSlot","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"OfficialSlot","field":"position","type":"Position","arity":"Required"},{"tag":"CreateField","model":"OfficialSlot","field":"official","type":"Official","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"OfficialSlot","field":"official"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"OfficialSlot","field":"official"},"directive":"relation"},"argument":"fields","value":"[officialId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"OfficialSlot","field":"official"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"OfficialSlot","field":"officialId","type":"String","arity":"Required"},{"tag":"CreateField","model":"OfficialSlot","field":"slot","type":"Slot","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"OfficialSlot","field":"slot"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"OfficialSlot","field":"slot"},"directive":"relation"},"argument":"fields","value":"[slotId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"OfficialSlot","field":"slot"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"OfficialSlot","field":"slotId","type":"String","arity":"Required"},{"tag":"CreateModel","model":"Slot"},{"tag":"CreateField","model":"Slot","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Slot","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Slot","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Slot","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateField","model":"Slot","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Slot","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Slot","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"Slot","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Slot","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"Slot","field":"name","type":"String","arity":"Required"},{"tag":"CreateField","model":"Slot","field":"event","type":"Event","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"Slot","field":"event"},"directive":"relation"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Slot","field":"event"},"directive":"relation"},"argument":"fields","value":"[eventId]"},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"Slot","field":"event"},"directive":"relation"},"argument":"references","value":"[id]"},{"tag":"CreateField","model":"Slot","field":"eventId","type":"String","arity":"Required"},{"tag":"CreateModel","model":"User"},{"tag":"CreateField","model":"User","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateField","model":"User","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"User","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"User","field":"role","type":"Role","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"User","field":"role"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"User","field":"role"},"directive":"default"},"argument":"","value":"GUEST"},{"tag":"CreateField","model":"User","field":"username","type":"String","arity":"Required"},{"tag":"CreateField","model":"User","field":"passwordHash","type":"String","arity":"Required"},{"tag":"CreateField","model":"User","field":"salt","type":"String","arity":"Required"},{"tag":"CreateModel","model":"WeightClass"},{"tag":"CreateField","model":"WeightClass","field":"id","type":"String","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeightClass","field":"id"},"directive":"id"}},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeightClass","field":"id"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeightClass","field":"id"},"directive":"default"},"argument":"","value":"uuid()"},{"tag":"CreateField","model":"WeightClass","field":"createdAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeightClass","field":"createdAt"},"directive":"default"}},{"tag":"CreateArgument","location":{"tag":"Directive","path":{"tag":"Field","model":"WeightClass","field":"createdAt"},"directive":"default"},"argument":"","value":"now()"},{"tag":"CreateField","model":"WeightClass","field":"updatedAt","type":"DateTime","arity":"Required"},{"tag":"CreateDirective","location":{"path":{"tag":"Field","model":"WeightClass","field":"updatedAt"},"directive":"updatedAt"}},{"tag":"CreateField","model":"WeightClass","field":"name","type":"String","arity":"Required"},{"tag":"CreateField","model":"WeightClass","field":"gender","type":"Gender","arity":"Required"},{"tag":"CreateField","model":"WeightClass","field":"min","type":"Float","arity":"Required"},{"tag":"CreateField","model":"WeightClass","field":"max","type":"Int","arity":"Required"}]', '{"before":{"tables":[{"name":"_Migration","columns":[{"name":"applied","tpe":{"raw":"int4","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"database_migration","tpe":{"raw":"text","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel","tpe":{"raw":"text","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"datamodel_steps","tpe":{"raw":"text","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"errors","tpe":{"raw":"text","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"finished_at","tpe":{"raw":"timestamp","family":"dateTime","arity":"nullable"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"text","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"revision","tpe":{"raw":"int4","family":"int","arity":"required"},"default":{"SEQUENCE":"nextval(''\"_Migration_revision_seq\"''::regclass)"},"autoIncrement":true},{"name":"rolled_back","tpe":{"raw":"int4","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"started_at","tpe":{"raw":"timestamp","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"status","tpe":{"raw":"text","family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["revision"],"sequence":{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}},"foreignKeys":[]}],"enums":[],"sequences":[{"name":"_Migration_revision_seq","initialValue":1,"allocationSize":1}]},"after":{"tables":[{"name":"AgeClass","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"sortId","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[]},{"name":"Athlete","columns":[{"name":"BD1","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"BD2","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"BD3","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KB1","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KB2","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KB3","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KH1","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KH2","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KH3","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"ageClassId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"athleteNumber","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"birthday","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"bodyWeight","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"club","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"dots","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"eventId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"firstName","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"gender","tpe":{"raw":"","family":{"enum":"Gender"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"importId","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"lastName","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"lateRegistration","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"location","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"los","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"nextAttemptsSortKeys","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"norm","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"place","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"points","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"price","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"raw","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"resultClassId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"total","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"weightClassId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"wilks","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["weightClassId"],"referencedTable":"WeightClass","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["ageClassId"],"referencedTable":"AgeClass","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"AthleteGroup","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"eventId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"slotId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["slotId"],"referencedTable":"Slot","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Attempt","columns":[{"name":"athleteId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"date","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"discipline","tpe":{"raw":"","family":{"enum":"Discipline"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"done","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"index","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"raw","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"resign","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"valid","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["athleteId"],"referencedTable":"Athlete","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Event","columns":[{"name":"contestType","tpe":{"raw":"","family":{"enum":"ContestType"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"discipline","tpe":{"raw":"","family":{"enum":"Discipline"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[]},{"name":"Official","columns":[{"name":"club","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"eventId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"firstName","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"importId","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"lastName","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"license","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"location","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"officalNumber","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"position","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"OfficialSlot","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"officialId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"position","tpe":{"raw":"","family":{"enum":"Position"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"slotId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["officialId"],"referencedTable":"Official","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["slotId"],"referencedTable":"Slot","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"Slot","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"eventId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}]},{"name":"User","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordHash","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"role","tpe":{"raw":"","family":{"enum":"Role"},"arity":"required"},"default":{"VALUE":"GUEST"},"autoIncrement":false},{"name":"salt","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"username","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[]},{"name":"WeightClass","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"gender","tpe":{"raw":"","family":{"enum":"Gender"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"max","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"min","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[]}],"enums":[{"name":"Discipline","values":["POWERLIFTING","SQUAT","BENCHPRESS","DEADLIFT"]},{"name":"ContestType","values":["SINGLE","TEAM"]},{"name":"Gender","values":["MALE","FEMALE"]},{"name":"Role","values":["ADMIN","USER","GUEST"]},{"name":"Position","values":["SEITENKAMPFRICHTER"]}],"sequences":[]},"original_steps":[{"CreateEnum":{"name":"Discipline","variants":["POWERLIFTING","SQUAT","BENCHPRESS","DEADLIFT"]}},{"CreateEnum":{"name":"ContestType","variants":["SINGLE","TEAM"]}},{"CreateEnum":{"name":"Gender","variants":["MALE","FEMALE"]}},{"CreateEnum":{"name":"Role","variants":["ADMIN","USER","GUEST"]}},{"CreateEnum":{"name":"Position","variants":["SEITENKAMPFRICHTER"]}},{"CreateTable":{"table":{"name":"AgeClass","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"sortId","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"Athlete","columns":[{"name":"BD1","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"BD2","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"BD3","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KB1","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KB2","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KB3","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KH1","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KH2","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KH3","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"ageClassId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"athleteNumber","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"birthday","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"bodyWeight","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"club","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"dots","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"eventId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"firstName","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"gender","tpe":{"raw":"","family":{"enum":"Gender"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"importId","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"lastName","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"lateRegistration","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"location","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"los","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"nextAttemptsSortKeys","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"norm","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"place","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"points","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"price","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"raw","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"resultClassId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"total","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"weightClassId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"wilks","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["weightClassId"],"referencedTable":"WeightClass","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["ageClassId"],"referencedTable":"AgeClass","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"AthleteGroup","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"eventId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"slotId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["slotId"],"referencedTable":"Slot","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"Attempt","columns":[{"name":"athleteId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"date","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"discipline","tpe":{"raw":"","family":{"enum":"Discipline"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"done","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"index","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"raw","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"resign","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"valid","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["athleteId"],"referencedTable":"Athlete","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"Event","columns":[{"name":"contestType","tpe":{"raw":"","family":{"enum":"ContestType"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"discipline","tpe":{"raw":"","family":{"enum":"Discipline"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"Official","columns":[{"name":"club","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"eventId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"firstName","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"importId","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"lastName","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"license","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"location","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"officalNumber","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"position","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"OfficialSlot","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"officialId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"position","tpe":{"raw":"","family":{"enum":"Position"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"slotId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["officialId"],"referencedTable":"Official","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["slotId"],"referencedTable":"Slot","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"Slot","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"eventId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"User","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordHash","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"role","tpe":{"raw":"","family":{"enum":"Role"},"arity":"required"},"default":{"VALUE":"GUEST"},"autoIncrement":false},{"name":"salt","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"username","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"WeightClass","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"gender","tpe":{"raw":"","family":{"enum":"Gender"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"max","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"min","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[]}}},{"AddForeignKey":{"table":"Athlete","foreign_key":{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Athlete","foreign_key":{"constraintName":null,"columns":["weightClassId"],"referencedTable":"WeightClass","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Athlete","foreign_key":{"constraintName":null,"columns":["ageClassId"],"referencedTable":"AgeClass","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"AthleteGroup","foreign_key":{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"AthleteGroup","foreign_key":{"constraintName":null,"columns":["slotId"],"referencedTable":"Slot","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Attempt","foreign_key":{"constraintName":null,"columns":["athleteId"],"referencedTable":"Athlete","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Official","foreign_key":{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"OfficialSlot","foreign_key":{"constraintName":null,"columns":["officialId"],"referencedTable":"Official","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"OfficialSlot","foreign_key":{"constraintName":null,"columns":["slotId"],"referencedTable":"Slot","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Slot","foreign_key":{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}}}],"corrected_steps":[{"CreateEnum":{"name":"Discipline","variants":["POWERLIFTING","SQUAT","BENCHPRESS","DEADLIFT"]}},{"CreateEnum":{"name":"ContestType","variants":["SINGLE","TEAM"]}},{"CreateEnum":{"name":"Gender","variants":["MALE","FEMALE"]}},{"CreateEnum":{"name":"Role","variants":["ADMIN","USER","GUEST"]}},{"CreateEnum":{"name":"Position","variants":["SEITENKAMPFRICHTER"]}},{"CreateTable":{"table":{"name":"AgeClass","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"sortId","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"Athlete","columns":[{"name":"BD1","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"BD2","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"BD3","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KB1","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KB2","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KB3","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KH1","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KH2","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"KH3","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"ageClassId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"athleteNumber","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"birthday","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"bodyWeight","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"club","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"dots","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"eventId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"firstName","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"gender","tpe":{"raw":"","family":{"enum":"Gender"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"importId","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"lastName","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"lateRegistration","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"location","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"los","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"nextAttemptsSortKeys","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"norm","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"place","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"points","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"price","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"raw","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"resultClassId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"total","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"weightClassId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"wilks","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["weightClassId"],"referencedTable":"WeightClass","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["ageClassId"],"referencedTable":"AgeClass","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"AthleteGroup","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"eventId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"slotId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["slotId"],"referencedTable":"Slot","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"Attempt","columns":[{"name":"athleteId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"date","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"discipline","tpe":{"raw":"","family":{"enum":"Discipline"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"done","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"index","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"raw","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"resign","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"valid","tpe":{"raw":"","family":"boolean","arity":"required"},"default":null,"autoIncrement":false},{"name":"weight","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["athleteId"],"referencedTable":"Athlete","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"Event","columns":[{"name":"contestType","tpe":{"raw":"","family":{"enum":"ContestType"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"discipline","tpe":{"raw":"","family":{"enum":"Discipline"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"Official","columns":[{"name":"club","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"eventId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"firstName","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"importId","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"lastName","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"license","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"location","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"officalNumber","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"position","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"OfficialSlot","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"officialId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"position","tpe":{"raw":"","family":{"enum":"Position"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"slotId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["officialId"],"referencedTable":"Official","referencedColumns":["id"],"onDeleteAction":"cascade"},{"constraintName":null,"columns":["slotId"],"referencedTable":"Slot","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"Slot","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"eventId","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}]}}},{"CreateTable":{"table":{"name":"User","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"passwordHash","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"role","tpe":{"raw":"","family":{"enum":"Role"},"arity":"required"},"default":{"VALUE":"GUEST"},"autoIncrement":false},{"name":"salt","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false},{"name":"username","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[]}}},{"CreateTable":{"table":{"name":"WeightClass","columns":[{"name":"createdAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":"NOW","autoIncrement":false},{"name":"gender","tpe":{"raw":"","family":{"enum":"Gender"},"arity":"required"},"default":null,"autoIncrement":false},{"name":"id","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"max","tpe":{"raw":"","family":"int","arity":"required"},"default":null,"autoIncrement":false},{"name":"min","tpe":{"raw":"","family":"float","arity":"required"},"default":null,"autoIncrement":false},{"name":"name","tpe":{"raw":"","family":"string","arity":"required"},"default":null,"autoIncrement":false},{"name":"updatedAt","tpe":{"raw":"","family":"dateTime","arity":"required"},"default":null,"autoIncrement":false}],"indices":[],"primaryKey":{"columns":["id"],"sequence":null},"foreignKeys":[]}}},{"AddForeignKey":{"table":"Athlete","foreign_key":{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Athlete","foreign_key":{"constraintName":null,"columns":["weightClassId"],"referencedTable":"WeightClass","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Athlete","foreign_key":{"constraintName":null,"columns":["ageClassId"],"referencedTable":"AgeClass","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"AthleteGroup","foreign_key":{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"AthleteGroup","foreign_key":{"constraintName":null,"columns":["slotId"],"referencedTable":"Slot","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Attempt","foreign_key":{"constraintName":null,"columns":["athleteId"],"referencedTable":"Athlete","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Official","foreign_key":{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"OfficialSlot","foreign_key":{"constraintName":null,"columns":["officialId"],"referencedTable":"Official","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"OfficialSlot","foreign_key":{"constraintName":null,"columns":["slotId"],"referencedTable":"Slot","referencedColumns":["id"],"onDeleteAction":"cascade"}}},{"AddForeignKey":{"table":"Slot","foreign_key":{"constraintName":null,"columns":["eventId"],"referencedTable":"Event","referencedColumns":["id"],"onDeleteAction":"cascade"}}}],"rollback":[{"DropTable":{"name":"AgeClass"}},{"DropTable":{"name":"Athlete"}},{"DropTable":{"name":"AthleteGroup"}},{"DropTable":{"name":"Attempt"}},{"DropTable":{"name":"Event"}},{"DropTable":{"name":"Official"}},{"DropTable":{"name":"OfficialSlot"}},{"DropTable":{"name":"Slot"}},{"DropTable":{"name":"User"}},{"DropTable":{"name":"WeightClass"}},{"DropEnum":{"name":"Discipline"}},{"DropEnum":{"name":"ContestType"}},{"DropEnum":{"name":"Gender"}},{"DropEnum":{"name":"Role"}},{"DropEnum":{"name":"Position"}}]}', '[]', '2020-05-02 08:45:44.364', '2020-05-02 08:45:44.442');

create table "Official"
(
    club            text                                   not null,
    "createdAt"     timestamp(3) default CURRENT_TIMESTAMP not null,
    "eventId"       text                                   not null
        constraint "Official_eventId_fkey"
            references "Event"
            on update cascade on delete cascade,
    "firstName"     text                                   not null,
    id              text                                   not null
        constraint "Official_pkey"
            primary key,
    "importId"      integer                                not null,
    "lastName"      text                                   not null,
    license         text                                   not null,
    location        text                                   not null,
    "officalNumber" integer                                not null,
    position        text                                   not null,
    "updatedAt"     timestamp(3)                           not null
);

alter table "Official"
    owner to bvdk;

create table "OfficialSlot"
(
    "createdAt"  timestamp(3) default CURRENT_TIMESTAMP not null,
    id           text                                   not null
        constraint "OfficialSlot_pkey"
            primary key,
    "officialId" text                                   not null
        constraint "OfficialSlot_officialId_fkey"
            references "Official"
            on update cascade on delete cascade,
    position     "Position"                             not null,
    "slotId"     text                                   not null
        constraint "OfficialSlot_slotId_fkey"
            references "Slot"
            on update cascade on delete cascade,
    "updatedAt"  timestamp(3)                           not null
);

alter table "OfficialSlot"
    owner to bvdk;

create table "Slot"
(
    "createdAt" timestamp(3) default CURRENT_TIMESTAMP not null,
    "eventId"   text                                   not null
        constraint "Slot_eventId_fkey"
            references "Event"
            on update cascade on delete cascade,
    id          text                                   not null
        constraint "Slot_pkey"
            primary key,
    name        text                                   not null,
    "updatedAt" timestamp(3)                           not null
);

alter table "Slot"
    owner to bvdk;

create table "User"
(
    "createdAt"    timestamp(3) default CURRENT_TIMESTAMP not null,
    id             text                                   not null
        constraint "User_pkey"
            primary key,
    "passwordHash" text                                   not null,
    role           "Role"       default 'GUEST'::"Role"   not null,
    salt           text                                   not null,
    "updatedAt"    timestamp(3)                           not null,
    username       text                                   not null
);

alter table "User"
    owner to bvdk;

create table "WeightClass"
(
    "createdAt" timestamp(3) default CURRENT_TIMESTAMP not null,
    gender      "Gender"                               not null,
    id          text                                   not null
        constraint "WeightClass_pkey"
            primary key,
    max         integer                                not null,
    min         numeric(65, 30)                        not null,
    name        text                                   not null,
    "updatedAt" timestamp(3)                           not null
);

alter table "WeightClass"
    owner to bvdk;

INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.912', 'FEMALE', '+84', 999, 84.010000000000000000000000000000, 'ab 84 Kg', '2020-05-02 08:46:23.913');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.912', 'MALE', '-120', 120, 105.010000000000000000000000000000, 'bis 120 Kg', '2020-05-02 08:46:23.913');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.921', 'FEMALE', '-57', 57, 52.010000000000000000000000000000, 'bis 57 Kg', '2020-05-02 08:46:23.922');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.932', 'FEMALE', '-84', 84, 72.010000000000000000000000000000, 'bis 84 Kg', '2020-05-02 08:46:23.932');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.932', 'MALE', '+120', 999, 120.010000000000000000000000000000, 'ab 120 Kg', '2020-05-02 08:46:23.932');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.943', 'FEMALE', '-63', 63, 52.010000000000000000000000000000, 'bis 63 Kg', '2020-05-02 08:46:23.943');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.943', 'FEMALE', '-72', 72, 63.010000000000000000000000000000, 'bis 72 Kg', '2020-05-02 08:46:23.943');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.943', 'FEMALE', '-47', 47, 0.000000000000000000000000000000, 'bis 47 Kg', '2020-05-02 08:46:23.943');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.952', 'MALE', '-105', 105, 93.010000000000000000000000000000, 'bis 105 Kg', '2020-05-02 08:46:23.952');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.952', 'FEMALE', '-43', 43, 0.000000000000000000000000000000, 'bis 43 Kg', '2020-05-02 08:46:23.952');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.952', 'FEMALE', '-52', 52, 47.010000000000000000000000000000, 'bis 52 Kg', '2020-05-02 08:46:23.952');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.961', 'MALE', '-93', 93, 83.010000000000000000000000000000, 'bis 93 Kg', '2020-05-02 08:46:23.962');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.961', 'MALE', '-83', 83, 74.010000000000000000000000000000, 'bis 83 Kg', '2020-05-02 08:46:23.962');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.961', 'MALE', '-74', 74, 66.010000000000000000000000000000, 'bis 74 Kg', '2020-05-02 08:46:23.961');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.971', 'MALE', '-59', 55, 0.000000000000000000000000000000, 'bis 59 Kg', '2020-05-02 08:46:23.972');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.971', 'MALE', '-66', 66, 59.010000000000000000000000000000, 'bis 66 Kg', '2020-05-02 08:46:23.972');
INSERT INTO public."WeightClass" ("createdAt", gender, id, max, min, name, "updatedAt") VALUES ('2020-05-02 08:46:23.971', 'MALE', '-53', 53, 0.000000000000000000000000000000, 'bis 53 Kg', '2020-05-02 08:46:23.972');